(this["webpackJsonphuffman-encoding"]=this["webpackJsonphuffman-encoding"]||[]).push([[0],{29:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(0),a=n.n(r),c=n(17),s=n.n(c),o=(n(29),n(18)),l=n(38),h=n(23),u=n(13),d=n(39),b=n(40),f=n(42),j=n(41),g=n(44),v=n(43),x=n(21),y=n(9),O=n(10),p=n(16),m=n(15),w=window.innerHeight/20,k=window.innerWidth/25,T=window.innerHeight/25,P=window.innerHeight/25,S=function(){function t(e,n,i,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];Object(y.a)(this,t),this.symbol=void 0,this.probability=void 0,this.col=void 0,this.row=void 0,this.parents=void 0,this.encoding=void 0,this.type=void 0,this.symbol=e,this.probability=n,this.col=i,this.row=r,this.parents=a,this.encoding="",this.type=""}return Object(O.a)(t,[{key:"hasParent",value:function(){return 0!==this.parents.length}},{key:"writeSymbol",value:function(t){t.strokeStyle="white",t.font="18px Arial",t.fillText("S".concat(this.symbol),this.getX-T/2,this.getY+T/2)}},{key:"tracePath",value:function(t,e){t.strokeStyle="red",t.beginPath(),t.moveTo(this.getX,this.getY+T/2),t.lineTo(this.parents[e].getX+P,this.parents[e].getY+T/2),t.stroke()}},{key:"draw",value:function(t){}},{key:"drawLink",value:function(t){}},{key:"getX",get:function(){return k+this.col*k*2}},{key:"getY",get:function(){return w+this.row*T*2}}]),t}(),H=function(t){Object(p.a)(n,t);var e=Object(m.a)(n);function n(t,i,r,a){var c,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(y.a)(this,n),(c=e.call(this,t,i,r,a,s)).type="SquareNode",c}return Object(O.a)(n,[{key:"draw",value:function(t){t.fillStyle="#375a7f",t.fillRect(this.getX,this.getY,P,T),t.fillStyle="white",t.font="18px Arial",t.textAlign="center",t.textBaseline="middle",t.fillText("".concat(this.probability),this.getX+P/2,this.getY+T/2)}},{key:"drawLink",value:function(t){t.strokeStyle="white",t.setLineDash([5,3]),t.beginPath(),t.moveTo(this.getX,this.getY+T/2),t.lineTo(this.parents[0].getX+P,this.parents[0].getY+T/2),t.stroke(),t.setLineDash([0])}}]),n}(S),C=function(t){Object(p.a)(n,t);var e=Object(m.a)(n);function n(t,i,r,a){var c,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(y.a)(this,n),(c=e.call(this,t,i,r,a,s)).type="CircleNode",c}return Object(O.a)(n,[{key:"draw",value:function(t){t.beginPath(),t.arc(this.getX+P/2,this.getY+T/2,P/2,0,2*Math.PI),t.fillStyle="#375a7f",t.fill(),t.fillStyle="white",t.font="18px Arial",t.textAlign="center",t.textBaseline="middle",t.fillText("".concat(this.probability),this.getX+P/2,this.getY+T/2)}},{key:"drawLink",value:function(t){t.strokeStyle="white";for(var e=0;e<=1;e++)t.beginPath(),t.moveTo(this.getX,this.getY+T/2),t.lineTo(this.parents[e].getX+P,this.parents[e].getY+T/2),t.stroke();t.font="18px Arial",t.fillText(0,this.getX-5,this.getY+.3*T),t.fillText(1,this.getX-5,this.getY+T)}}]),n}(S);function L(t){return Math.round(100*t)/100}var X=function(){function t(e){Object(y.a)(this,t),this.ctx=void 0,this.root=void 0,this.ctx=e,this.root=null}return Object(O.a)(t,[{key:"run",value:function(t){t.sort((function(t,e){return t.probability<=e.probability?1:-1}));var e,n=Object(x.a)(t);try{for(n.s();!(e=n.n()).done;){e.value.writeSymbol(this.ctx)}}catch(s){n.e(s)}finally{n.f()}for(var i=[t],r=t,a=0;r.length>1;a++){for(var c=0;c<r.length;c++)r[c].row=c,r[c].col=a,r[c].draw(this.ctx),r[c].hasParent()&&r[c].drawLink(this.ctx);r=this.genNewLevel(r),i.push(r)}r[0].row=0,r[0].col=i.length-1,r[0].draw(this.ctx),r[0].drawLink(this.ctx),this.root=i[i.length-1][0],this.dfTraversal(this.root,"")}},{key:"circleAboveSquares",value:function(t){for(var e=0;e<t.length;e++)for(var n=0;n<t.length-1;n++)if(t[n].probability===t[n+1].probability&&"CircleNode"===t[n+1].type){var i=t[n];t[n]=t[n+1],t[n+1]=i}return t}},{key:"genNewLevel",value:function(t){for(var e=[],n=t[t.length-1],i=t[t.length-2],r=0;r<t.length-2;r++)e.push(new H(t[r].symbol,t[r].probability,r,r,[t[r]]));return e.push(function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,a=t.symbol+n.symbol,c=L(t.probability+n.probability);return new C(a,c,i,r,[t,n])}(n,i)),e.sort((function(t,e){return t.probability<=e.probability?1:-1})),this.circleAboveSquares(e)}},{key:"dfTraversal",value:function(t,e){null!=t&&t&&t.hasParent()?"SquareNode"===t.type?this.dfTraversal(t.parents[0],e):(this.dfTraversal(t.parents[0],e+"0"),this.dfTraversal(t.parents[1],e+"1")):t.encoding=e}},{key:"tracePath",value:function(t){if(this.root)for(var e=0,n=this.root;n.hasParent();)2===n.parents.length?(n.tracePath(this.ctx,Number(t[e])),n=n.parents[Number(t[e])],e++):(n.tracePath(this.ctx,0),n=n.parents[0])}},{key:"untracePath",value:function(t){t&&t.hasParent()&&(t.drawLink(this.ctx),this.untracePath(t.parents[0]),this.untracePath(t.parents[1]))}}]),t}();var Y=function(t){var e=Object(r.useRef)(null),n=t.nodes,a=t.encoding;return Object(r.useEffect)((function(){(null===e||void 0===e?void 0:e.current)&&(e.current.style.width="100%",e.current.style.height="max(100%, 80vh)",e.current.width=e.current.getBoundingClientRect().width,e.current.height=e.current.getBoundingClientRect().height)}),[]),Object(r.useEffect)((function(){if(null===e||void 0===e?void 0:e.current){e.current.getContext("2d").clearRect(0,0,1e4,1e4);var t=new X(e.current.getContext("2d"));n.length&&(t.run(n),a&&t.tracePath(a))}}),[e,n,a]),Object(i.jsxs)(f.a,{className:"text-center",style:{height:"100%"},children:[Object(i.jsx)(f.a.Header,{children:"Rendered Huffman Tree"}),Object(i.jsx)(f.a.Body,{children:Object(i.jsx)("canvas",{id:"canvas",ref:e})})]})};var E=function(){return Object(i.jsxs)(f.a,{className:"text-center",children:[Object(i.jsx)(f.a.Header,{children:"Algorithm Description"}),Object(i.jsxs)(f.a.Body,{children:[Object(i.jsx)(f.a.Title,{children:"Huffman Encoding"}),Object(i.jsx)(f.a.Text,{children:Object(i.jsx)("p",{children:"The Huffman Encoding algorithm is an encoding algorithm for lossless data compression. It is a variable length code where symbols of higher probability are given shorter lengths."})}),Object(i.jsx)(v.a,{variant:"primary",onClick:function(){return window.open("https://en.wikipedia.org/wiki/Huffman_coding")},children:"Read More"})]})]})};var N=function(){return Object(i.jsxs)(f.a,{className:"text-center",style:{marginTop:"1rem"},children:[Object(i.jsx)(f.a.Header,{children:"Useful Links"}),Object(i.jsxs)(f.a.Body,{children:[Object(i.jsx)(f.a.Title,{children:"Checkout My Other Works"}),Object(i.jsx)(f.a.Link,{href:"https://github.com/V-Wong/Huffman-Encoding",children:"Source Code"}),Object(i.jsx)(f.a.Link,{href:"https://vwong.dev/",children:"My Portfolio"}),Object(i.jsx)(f.a.Link,{href:"https://github.com/V-Wong",children:"My GitHub"})]})]})};var B=function(){var t=Object(r.useState)([]),e=Object(u.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)([0,0,0,0,0,0,0,0]),s=Object(u.a)(c,2),o=s[0],x=(s[1],Object(r.useState)(["","","","","","","",""])),y=Object(u.a)(x,2),O=y[0],p=y[1],m=Object(r.useState)(""),w=Object(u.a)(m,2),k=w[0],T=w[1];return Object(r.useEffect)((function(){n.forEach((function(t,e){return 0!==t.probability?O[e]=t.encoding:O[e]=""})),p(Object(h.a)(O))}),[n]),Object(i.jsx)(l.a,{fluid:!0,children:Object(i.jsxs)(d.a,{children:[Object(i.jsx)(b.a,{xs:9,children:Object(i.jsx)(Y,{nodes:n.filter((function(t){return 0!==t.probability})),encoding:k})}),Object(i.jsxs)(b.a,{xs:3,children:[Object(i.jsx)(E,{}),Object(i.jsxs)(f.a,{className:"text-center",style:{marginTop:"1rem"},children:[Object(i.jsx)(f.a.Header,{children:"Probability Input Panel"}),Object(i.jsxs)(f.a.Body,{children:[Object(i.jsx)(f.a.Title,{children:"Enter Symbol Probabilities"}),o.map((function(t,e){return Object(i.jsxs)(j.a,{children:[Object(i.jsx)(j.a.Prepend,{onMouseOver:function(){return T(O[e])},children:Object(i.jsxs)(j.a.Text,{style:{width:"10rem",color:k&&k===O[e]?"red":"white"},children:["Encoding: ",O[e]]})}),Object(i.jsx)(g.a,{onChange:function(t){return t.target.value?o[e]=parseFloat(t.target.value):o[e]=0}})]})})),Object(i.jsxs)("div",{className:"buttons-container",children:[Object(i.jsx)(v.a,{variant:"success",size:"lg",block:!0,style:{marginTop:"1vh"},onClick:function(){if(o.filter((function(t){return 0!==t})).length<2)window.alert("Please input at least 2 symbols");else if(Math.abs(o.reduce((function(t,e){return t+e}))-1)>=1e-5)window.alert("Please ensure probabilities sum to 1");else{var t=o.map((function(t,e){return new H(e,t,0,0)}));a(t)}},children:"Submit"}),Object(i.jsx)(v.a,{variant:"danger",size:"lg",block:!0,style:{marginTop:"1vh"},children:"Clear"})]})]})]}),Object(i.jsx)(N,{})]})]})})};n(36);var A=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(o.a,{children:[Object(i.jsx)("meta",{charSet:"utf-8"}),Object(i.jsx)("title",{children:"Huffman Encoding"}),Object(i.jsx)("meta",{name:"description",content:"Huffman Encoding tool for visualising the binary tree formed."}),Object(i.jsx)("meta",{name:"author",content:"Vincent Wong"}),Object(i.jsx)("meta",{name:"keywords",content:"Canvas, Huffman Encoding algorithm"}),Object(i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),Object(i.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center"},children:Object(i.jsx)(l.a,{fluid:!0,children:Object(i.jsx)(B,{})})})]})},M=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),i(t),r(t),a(t),c(t)}))};s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(A,{})}),document.getElementById("root")),M()}},[[37,1,2]]]);
//# sourceMappingURL=main.67be6fe1.chunk.js.map