(this["webpackJsonphuffman-encoding"]=this["webpackJsonphuffman-encoding"]||[]).push([[0],{28:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(0),a=n.n(r),s=n(17),c=n.n(s),o=(n(28),n(18)),l=n(37),h=n(22),u=n(13),d=n(38),b=n(39),f=n(41),j=n(40),g=n(43),v=n(42),y=n(21),x=n(9),m=n(10),O=n(16),p=n(15),w=window.innerHeight/20,k=window.innerWidth/25,S=window.innerHeight/25,T=window.innerHeight/25,P=function(){function e(t,n,i,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];Object(x.a)(this,e),this.symbol=void 0,this.probability=void 0,this.col=void 0,this.row=void 0,this.parents=void 0,this.encoding=void 0,this.type=void 0,this.symbol=t,this.probability=n,this.col=i,this.row=r,this.parents=a,this.encoding="",this.type=""}return Object(m.a)(e,[{key:"hasParent",value:function(){return 0!==this.parents.length}},{key:"writeSymbol",value:function(e){e.strokeStyle="white",e.font="18px Arial",e.fillText("S".concat(this.symbol),this.getX-S/2,this.getY+S/2)}},{key:"tracePath",value:function(e,t){e.strokeStyle="red",e.beginPath(),e.moveTo(this.getX,this.getY+S/2),e.lineTo(this.parents[t].getX+T,this.parents[t].getY+S/2),e.stroke()}},{key:"draw",value:function(e){}},{key:"drawLink",value:function(e){}},{key:"getX",get:function(){return k+this.col*T*4}},{key:"getY",get:function(){return w+this.row*S*2}}]),e}(),C=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e,i,r,a){var s,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(x.a)(this,n),(s=t.call(this,e,i,r,a,c)).type="SquareNode",s}return Object(m.a)(n,[{key:"draw",value:function(e){e.fillStyle="#375a7f",e.fillRect(this.getX,this.getY,T,S),e.fillStyle="white",e.font="18px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText("".concat(this.probability),this.getX+T/2,this.getY+S/2)}},{key:"drawLink",value:function(e){e.strokeStyle="white",e.setLineDash([5,3]),e.beginPath(),e.moveTo(this.getX,this.getY+S/2),e.lineTo(this.parents[0].getX+T,this.parents[0].getY+S/2),e.stroke(),e.setLineDash([0])}}]),n}(P),H=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e,i,r,a){var s,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(x.a)(this,n),(s=t.call(this,e,i,r,a,c)).type="CircleNode",s}return Object(m.a)(n,[{key:"draw",value:function(e){e.beginPath(),e.arc(this.getX+T/2,this.getY+S/2,T/2,0,2*Math.PI),e.fillStyle="#375a7f",e.fill(),e.fillStyle="white",e.font="18px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText("".concat(this.probability),this.getX+T/2,this.getY+S/2)}},{key:"drawLink",value:function(e){e.strokeStyle="white";for(var t=0;t<=1;t++)e.beginPath(),e.moveTo(this.getX,this.getY+S/2),e.lineTo(this.parents[t].getX+T,this.parents[t].getY+S/2),e.stroke();e.font="18px Arial",e.fillText(0,this.getX-5,this.getY+.3*S),e.fillText(1,this.getX-5,this.getY+S)}}]),n}(P);function L(e){return Math.round(100*e)/100}var X=function(){function e(t){Object(x.a)(this,e),this.ctx=void 0,this.root=void 0,this.ctx=t,this.root=null}return Object(m.a)(e,[{key:"run",value:function(e){e.sort((function(e,t){return e.probability<=t.probability?1:-1}));var t,n=Object(y.a)(e);try{for(n.s();!(t=n.n()).done;){t.value.writeSymbol(this.ctx)}}catch(c){n.e(c)}finally{n.f()}for(var i=[e],r=e,a=0;r.length>1;a++){for(var s=0;s<r.length;s++)r[s].row=s,r[s].col=a,r[s].draw(this.ctx),r[s].hasParent()&&r[s].drawLink(this.ctx);r=this.genNewLevel(r),i.push(r)}r[0].row=0,r[0].col=i.length-1,r[0].draw(this.ctx),r[0].drawLink(this.ctx),this.root=i[i.length-1][0],this.dfTraversal(this.root,"")}},{key:"circleAboveSquares",value:function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length-1;n++)if(e[n].probability===e[n+1].probability&&"CircleNode"===e[n+1].type){var i=e[n];e[n]=e[n+1],e[n+1]=i}return e}},{key:"genNewLevel",value:function(e){for(var t=[],n=e[e.length-1],i=e[e.length-2],r=0;r<e.length-2;r++)t.push(new C(e[r].symbol,e[r].probability,r,r,[e[r]]));return t.push(function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,a=e.symbol+n.symbol,s=L(e.probability+n.probability);return new H(a,s,i,r,[e,n])}(n,i)),t.sort((function(e,t){return e.probability<=t.probability?1:-1})),this.circleAboveSquares(t)}},{key:"dfTraversal",value:function(e,t){null!=e&&e&&e.hasParent()?"SquareNode"===e.type?this.dfTraversal(e.parents[0],t):(this.dfTraversal(e.parents[0],t+"0"),this.dfTraversal(e.parents[1],t+"1")):e.encoding=t}},{key:"tracePath",value:function(e){if(this.root)for(var t=0,n=this.root;n.hasParent();)2===n.parents.length?(n.tracePath(this.ctx,Number(e[t])),n=n.parents[Number(e[t])],t++):(n.tracePath(this.ctx,0),n=n.parents[0])}},{key:"untracePath",value:function(e){e&&e.hasParent()&&(e.drawLink(this.ctx),this.untracePath(e.parents[0]),this.untracePath(e.parents[1]))}}]),e}();var Y=function(e){var t=Object(r.useRef)(null),n=e.nodes,a=e.encoding;return Object(r.useEffect)((function(){(null===t||void 0===t?void 0:t.current)&&(t.current.style.width="100%",t.current.style.height="100%",t.current.width=t.current.getBoundingClientRect().width,t.current.height=t.current.getBoundingClientRect().height)}),[]),Object(r.useEffect)((function(){if(null===t||void 0===t?void 0:t.current){t.current.getContext("2d").clearRect(0,0,1e4,1e4);var e=new X(t.current.getContext("2d"));n.length&&(e.run(n),a&&e.tracePath(a))}}),[t,n,a]),Object(i.jsxs)(f.a,{className:"text-center",style:{height:"100%"},children:[Object(i.jsx)(f.a.Header,{style:{fontSize:"1.25rem"},children:"Rendered Huffman Tree"}),Object(i.jsx)(f.a.Body,{children:Object(i.jsx)("canvas",{id:"canvas",ref:t,style:{backgroundColor:"black"}})})]})};var z=function(){return Object(i.jsxs)(f.a,{className:"text-center",children:[Object(i.jsx)(f.a.Header,{style:{fontSize:"1.25rem"},children:"Algorithm Description"}),Object(i.jsxs)(f.a.Body,{children:[Object(i.jsx)(f.a.Title,{style:{fontSize:"1.75rem"},children:"Huffman Encoding"}),Object(i.jsxs)(f.a.Text,{style:{fontSize:"1.2rem"},children:[Object(i.jsx)("p",{children:"The Huffman Encoding algorithm is an encoding algorithm for lossless data compression."}),Object(i.jsx)("p",{children:"It is a variable length code where symbols of higher probability and given shorter lengths."})]}),Object(i.jsx)(v.a,{variant:"primary",onClick:function(){return window.open("https://en.wikipedia.org/wiki/Huffman_coding")},children:"Read More"})]})]})};var E=function(){return Object(i.jsxs)(f.a,{className:"text-center",style:{marginTop:"2rem"},children:[Object(i.jsx)(f.a.Header,{style:{fontSize:"1.25rem"},children:"Useful Links"}),Object(i.jsxs)(f.a.Body,{children:[Object(i.jsx)(f.a.Title,{style:{fontSize:"1.75rem"},children:"Checkout My Other Works"}),Object(i.jsx)(f.a.Link,{style:{fontSize:"1.2rem"},href:"https://github.com/V-Wong/Huffman-Encoding",children:"Source Code"}),Object(i.jsx)(f.a.Link,{style:{fontSize:"1.2rem"},href:"https://vwong.dev/",children:"My Portfolio"}),Object(i.jsx)(f.a.Link,{style:{fontSize:"1.2rem"},href:"https://github.com/V-Wong",children:"My GitHub"})]})]})};var N=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([0,0,0,0,0,0,0,0]),c=Object(u.a)(s,2),o=c[0],y=(c[1],Object(r.useState)(["","","","","","","",""])),x=Object(u.a)(y,2),m=x[0],O=x[1],p=Object(r.useState)(""),w=Object(u.a)(p,2),k=w[0],S=w[1];return Object(r.useEffect)((function(){n.forEach((function(e,t){return 0!==e.probability?m[t]=e.encoding:m[t]=""})),O(Object(h.a)(m))}),[n]),Object(i.jsx)(l.a,{fluid:!0,children:Object(i.jsxs)(d.a,{children:[Object(i.jsx)(b.a,{xs:9,children:Object(i.jsx)(Y,{nodes:n.filter((function(e){return 0!==e.probability})),encoding:k})}),Object(i.jsxs)(b.a,{xs:3,children:[Object(i.jsx)(z,{}),Object(i.jsxs)(f.a,{className:"text-center",style:{marginTop:"2rem"},children:[Object(i.jsx)(f.a.Header,{style:{fontSize:"1.25rem"},children:"Probability Input Panel"}),Object(i.jsxs)(f.a.Body,{children:[Object(i.jsx)(f.a.Title,{style:{fontSize:"1.75rem"},children:"Enter Symbol Probabilities"}),o.map((function(e,t){return Object(i.jsxs)(j.a,{children:[Object(i.jsx)(j.a.Prepend,{onMouseOver:function(){return S(m[t])},children:Object(i.jsxs)(j.a.Text,{style:{width:"10rem",color:k&&k===m[t]?"red":"white"},children:["Encoding: ",m[t]]})}),Object(i.jsx)(g.a,{onChange:function(e){return e.target.value?o[t]=parseFloat(e.target.value):o[t]=0}})]})})),Object(i.jsxs)("div",{className:"buttons-container",children:[Object(i.jsx)(v.a,{variant:"success",size:"lg",block:!0,style:{marginTop:"1vh"},onClick:function(e){e.preventDefault(),function(){if(o.filter((function(e){return 0!==e})).length<2)window.alert("Please input at least 2 symbols");else if(Math.abs(o.reduce((function(e,t){return e+t}))-1)>=1e-5)window.alert("Please ensure probabilities sum to 1");else{var e=o.map((function(e,t){return new C(t,e,0,0)}));a(e)}}()},children:"Submit"}),Object(i.jsx)(v.a,{variant:"danger",size:"lg",block:!0,style:{marginTop:"1vh"},children:"Clear"})]})]})]}),Object(i.jsx)(E,{})]})]})})};n(35);var B=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(o.a,{children:[Object(i.jsx)("meta",{charSet:"utf-8"}),Object(i.jsx)("title",{children:"Huffman Encoding"}),Object(i.jsx)("meta",{name:"description",content:"Huffman Encoding tool for visualising the binary tree formed."}),Object(i.jsx)("meta",{name:"author",content:"Vincent Wong"}),Object(i.jsx)("meta",{name:"keywords",content:"Canvas, Huffman Encoding algorithm"}),Object(i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),Object(i.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center"},children:Object(i.jsx)(l.a,{fluid:!0,children:Object(i.jsx)(N,{})})})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),i(e),r(e),a(e),s(e)}))};c.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(B,{})}),document.getElementById("root")),A()}},[[36,1,2]]]);
//# sourceMappingURL=main.4d1478a6.chunk.js.map